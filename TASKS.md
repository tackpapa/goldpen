# TASKS.md - GoldPen ì‘ì—… ë¡œê·¸

> **í”„ë¡œì íŠ¸ ì‘ì—… íˆìŠ¤í† ë¦¬ ë° ì§„í–‰ ìƒí™©**

---

## ğŸ“… 2025-11-18 - í”„ë¡œì íŠ¸ ì´ˆê¸°í™”

### Session: í”„ë¡œì íŠ¸ ì„¤ì • ë° ë¬¸ì„œí™”

**ì‘ì—…ì**: PM Agent (SuperClaude)
**ìƒíƒœ**: ì§„í–‰ ì¤‘ ğŸš§

#### ì™„ë£Œëœ ì‘ì—… âœ…

1. **PRD.md ì‘ì„±**
   - ì œí’ˆ ìš”êµ¬ì‚¬í•­ ì •ì˜ì„œ ì™„ì„±
   - ëª©í‘œ ì‹œì¥, í•µì‹¬ ê¸°ëŠ¥, ë¦´ë¦¬ì¦ˆ í”Œëœ ì •ì˜
   - MVP/V1/V2 ë¡œë“œë§µ ìˆ˜ë¦½

2. **CLAUDE.md ì‘ì„±**
   - í”„ë¡œì íŠ¸ ê·œì¹™ ë° ê°€ì´ë“œë¼ì¸ ì •ì˜
   - ê¸°ìˆ  ìŠ¤íƒ ëª…ì‹œ (Next.js 15, Cloudflare Workers, Supabase)
   - ì½”ë”© ì»¨ë²¤ì…˜, ë³´ì•ˆ ê·œì¹™, Git ì›Œí¬í”Œë¡œìš° ìˆ˜ë¦½

3. **ARCHITECTURE.md ì‘ì„±**
   - ì‹œìŠ¤í…œ ì „ì²´ ì•„í‚¤í…ì²˜ ì„¤ê³„
   - í”„ë¡ íŠ¸ì—”ë“œ/ë°±ì—”ë“œ êµ¬ì¡° ì •ì˜
   - ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ 18ê°œ í…Œì´ë¸” ì„¤ê³„
   - ì¸ì¦/ê¶Œí•œ ì²´ê³„ (RBAC + RLS) ì„¤ê³„
   - ìë™í™” ì—”ì§„ êµ¬ì¡° ì„¤ê³„

#### ì§„í–‰ ì¤‘ì¸ ì‘ì—… ğŸš§

4. **Next.js 15 í”„ë¡œì íŠ¸ ì´ˆê¸°í™”**
   - ìƒíƒœ: ëŒ€ê¸° ì¤‘
   - ì˜ˆì •: TypeScript, Tailwind CSS, shadcn/ui ì„¤ì •

5. **MCP ì„œë²„ ì„¤ì •**
   - ìƒíƒœ: ëŒ€ê¸° ì¤‘
   - ì˜ˆì •: Supabase, Browser, Serena, Sequential Thinking, Context7, GitHub MCP ì„¤ì •

#### ì˜ˆì •ëœ ì‘ì—… ğŸ“‹

6. **í´ë” êµ¬ì¡° ìƒì„±**
   - app/, components/, lib/, workers/, supabase/ ë“±

7. **í™˜ê²½ ì„¤ì • íŒŒì¼**
   - .env.example
   - .gitignore
   - tsconfig.json

8. **í”„ë¡œì íŠ¸ ì´ˆê¸°í™” ê²€ì¦**
   - ë¹Œë“œ í…ŒìŠ¤íŠ¸
   - ê°œë°œ ì„œë²„ ì‹¤í–‰ í™•ì¸

---

## ğŸ“Š í”„ë¡œì íŠ¸ ì§„í–‰ë¥ 

### MVP (0~3ê°œì›”)

| ê¸°ëŠ¥ ì˜ì—­ | ìƒíƒœ | ì§„í–‰ë¥  |
|---------|------|--------|
| ğŸ“ í”„ë¡œì íŠ¸ ì´ˆê¸°í™” | ğŸš§ ì§„í–‰ ì¤‘ | 50% |
| ğŸ” ì¡°ì§/ì§€ì /ê¶Œí•œ ê´€ë¦¬ | ğŸ“‹ ëŒ€ê¸° | 0% |
| ğŸ“ ìƒë‹´/ì…í•™/ì˜¨ë³´ë”© ìë™í™” | ğŸ“‹ ëŒ€ê¸° | 0% |
| ğŸ‘¥ í•™ìƒ/ë°˜/ê°•ì‚¬ ê´€ë¦¬ | ğŸ“‹ ëŒ€ê¸° | 0% |
| âœ… ì¶œê²°/ìˆ˜ì—…/í´ë¦¬ë‹‰ ê´€ë¦¬ | ğŸ“‹ ëŒ€ê¸° | 0% |
| ğŸ“§ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ & ìë™í™” ì—”ì§„ | ğŸ“‹ ëŒ€ê¸° | 0% |
| ğŸ¨ ìš´ì˜ì/ê°•ì‚¬ìš© ëŒ€ì‹œë³´ë“œ | ğŸ“‹ ëŒ€ê¸° | 0% |

**ì „ì²´ MVP ì§„í–‰ë¥ **: ì•½ 5%

---

## ğŸ“ ë‹¤ìŒ ë‹¨ê³„ (Next Actions)

### ìš°ì„ ìˆœìœ„ 1: í”„ë¡œì íŠ¸ í™˜ê²½ ì™„ì„±
- [ ] Next.js 15 í”„ë¡œì íŠ¸ ìƒì„± (`create-next-app`)
- [ ] í•„ìˆ˜ dependencies ì„¤ì¹˜
- [ ] í´ë” êµ¬ì¡° ìƒì„±
- [ ] MCP ì„œë²„ ì„¤ì • (.claude/mcp.json)
- [ ] í™˜ê²½ ë³€ìˆ˜ í…œí”Œë¦¿ ì‘ì„±
- [ ] Git ì´ˆê¸°í™” ë° .gitignore ì„¤ì •

### ìš°ì„ ìˆœìœ„ 2: Supabase ì„¤ì •
- [ ] Supabase í”„ë¡œì íŠ¸ ìƒì„±
- [ ] ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜ íŒŒì¼ ì‘ì„±
- [ ] RLS ì •ì±… ì„¤ì •
- [ ] Supabase Auth ì„¤ì •
- [ ] Storage ë²„í‚· ìƒì„±

### ìš°ì„ ìˆœìœ„ 3: ê¸°ë³¸ UI êµ¬ì¡°
- [ ] shadcn/ui ì´ˆê¸°í™”
- [ ] ë ˆì´ì•„ì›ƒ ì»´í¬ë„ŒíŠ¸ (Header, Sidebar)
- [ ] ë¼ìš°íŠ¸ êµ¬ì¡° ìƒì„± (auth, dashboard, portal)
- [ ] í…Œë§ˆ ì„¤ì • (ë‹¤í¬ëª¨ë“œ í¬í•¨)

---

## ğŸ› ì´ìŠˆ & ë¸”ë¡œì»¤

_í˜„ì¬ ì—†ìŒ_

---

## ğŸ’¡ ë°°ìš´ ì  & ê°œì„  ì‚¬í•­

### ì´ˆê¸° ì„¤ì • ë‹¨ê³„ì—ì„œì˜ êµí›ˆ

1. **ë¬¸ì„œ ìš°ì„  ì ‘ê·¼**
   - PRD â†’ ARCHITECTURE â†’ ì½”ë“œ ìˆœì„œê°€ íš¨ìœ¨ì 
   - ì„¤ê³„ë¥¼ ë¨¼ì € í™•ì •í•˜ë©´ êµ¬í˜„ ì‹œ í˜¼ë€ ë°©ì§€

2. **ë©€í‹°í…Œë„ŒíŠ¸ ì•„í‚¤í…ì²˜ ì„¤ê³„**
   - ëª¨ë“  í…Œì´ë¸”ì— `org_id` í•„ìˆ˜
   - RLS ì •ì±…ì„ ì´ˆê¸°ë¶€í„° ì„¤ê³„í•˜ë©´ ë³´ì•ˆ ê°•í™”

3. **ìë™í™” ì¤‘ì‹¬ ì‚¬ê³ **
   - ìˆ˜ë™ ì‘ì—…ì´ í•„ìš”í•œ ë¶€ë¶„ì„ ë¨¼ì € íŒŒì•…
   - ìë™í™” ê·œì¹™ í…Œì´ë¸”ì„ ì´ˆê¸° ì„¤ê³„ì— í¬í•¨

---

## ğŸ“š ì°¸ê³  ìë£Œ

- [Next.js 15 Documentation](https://nextjs.org/docs)
- [Supabase Documentation](https://supabase.com/docs)
- [Cloudflare Workers Documentation](https://developers.cloudflare.com/workers/)
- [shadcn/ui Documentation](https://ui.shadcn.com)

---

**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2025-11-18 01:50 KST

---

## ğŸ“… 2025-11-21 - Mock ë°ì´í„° ì œê±° ë° BFF ë§ˆì´ê·¸ë ˆì´ì…˜

### Session: 14ê°œ ëŒ€ì‹œë³´ë“œ í˜ì´ì§€ Mock â†’ Supabase ë§ˆì´ê·¸ë ˆì´ì…˜

**ì‘ì—…ì**: Claude Code
**ìƒíƒœ**: ì™„ë£Œ âœ…

#### ì™„ë£Œëœ ì‘ì—… âœ…

1. **14ê°œ ëŒ€ì‹œë³´ë“œ í˜ì´ì§€ Mock ë°ì´í„° ì œê±° ë° API ì—°ê²°**
   - Students, Classes, Teachers, Consultations, Homework
   - Attendance, Exams, Lessons, Rooms, Expenses
   - Seats, Schedule, Overview, Settings
   - BFF íŒ¨í„´ ì ìš© (í˜ì´ì§€ â†’ API Route â†’ Supabase)

2. **ì´ë²ˆ ì„¸ì…˜ ì¶”ê°€ ìˆ˜ì •**
   - `seats/page.tsx`: mockAssignments â†’ seatAssignments (ë¹ˆ ê°ì²´)
   - `exams/page.tsx`: mockStudentsWithParents, mockStudents, mockScores ì œê±°
   - `billing/page.tsx`: mockRevenueTransactions â†’ revenueTransactions (ë¹ˆ ë°°ì—´)

3. **ë¹Œë“œ ê²€ì¦**: âœ… pnpm build ì„±ê³µ

#### ì”ì—¬ Mock ë°ì´í„° (ë³„ë„ í˜ì´ì§€, ë¯¸ì²˜ë¦¬)
- `all-schedules/page.tsx`: mockRooms, mockTeachers, mockStudents, mockSchedules
- `all-schedules-v2/page.tsx`: mockRooms, mockTeachers, mockSchedules
- `all-schedules-v3/page.tsx`: mockRooms, mockTeachers, mockSchedules

---

## ğŸ“… 2025-11-20 - ìŠˆí¼ ì–´ë“œë¯¼ Frontend êµ¬í˜„

### Session: Super Admin ì‹œìŠ¤í…œ êµ¬ì¶•

**ì‘ì—…ì**: Claude Code
**ìƒíƒœ**: ì§„í–‰ ì¤‘ ğŸš§

#### ì™„ë£Œëœ ì‘ì—… âœ…

1. **Database Schema ë³€ê²½**
   - Migration íŒŒì¼: `supabase/migrations/20251120_superadmin_schema.sql`
   - `user_role` enumì— `super_admin` ì¶”ê°€
   - `organizations` í…Œì´ë¸” í™•ì¥: status, subscription_plan, max_users, max_students
   - `audit_logs` í…Œì´ë¸” ìƒì„± (ê°ì‚¬ ë¡œê·¸)
   - RLS ì •ì±… ì¶”ê°€ (super_admin ì „ìš© ì ‘ê·¼ ê¶Œí•œ)

2. **ìŠˆí¼ ì–´ë“œë¯¼ ë ˆì´ì•„ì›ƒ êµ¬í˜„**
   - `/app/superadmin/layout.tsx` - ê¶Œí•œ ì²´í¬
   - `/components/superadmin/SuperAdminSidebar.tsx` - ì „ìš© ì‚¬ì´ë“œë°”
   - `/components/superadmin/SuperAdminHeader.tsx` - ì „ìš© í—¤ë”

3. **Organizations API êµ¬í˜„**
   - `GET /api/superadmin/organizations` - ëª©ë¡ (ê²€ìƒ‰, í˜ì´ì§€ë„¤ì´ì…˜)
   - `POST /api/superadmin/organizations` - ìƒì„±
   - `GET /api/superadmin/organizations/[id]` - ìƒì„¸
   - `PATCH /api/superadmin/organizations/[id]` - ìˆ˜ì •
   - `DELETE /api/superadmin/organizations/[id]` - ì‚­ì œ (soft delete)

4. **Statistics API êµ¬í˜„**
   - `GET /api/superadmin/stats/overview` - ëŒ€ì‹œë³´ë“œ í†µê³„

5. **í”„ë¡ íŠ¸ì—”ë“œ í˜ì´ì§€ êµ¬í˜„**
   - `/app/superadmin/dashboard/page.tsx` - í†µê³„ ëŒ€ì‹œë³´ë“œ
   - `/app/superadmin/organizations/page.tsx` - ì¡°ì§ ëª©ë¡ (DataTable)

#### í˜„ì¬ ì§„í–‰ ì¤‘ ğŸš§

6. **ë¡œê·¸ì¸ ë¬¸ì œ í•´ê²°**
   - ìƒíƒœ: ì§„í–‰ ì¤‘
   - ë¬¸ì œ: admin@goldpen.krë¡œ ë¡œê·¸ì¸ í›„ ìŠˆí¼ ì–´ë“œë¯¼ ì ‘ê·¼ ë¶ˆê°€
   - ì˜ˆìƒ ì›ì¸: DB migration ë¯¸ì‹¤í–‰ ë˜ëŠ” role ë¯¸ì„¤ì •

#### ë‹¤ìŒ ë‹¨ê³„ ğŸ“‹

7. **Migration ì‹¤í–‰**
   - Supabase Dashboardì—ì„œ SQL ì‹¤í–‰

8. **Admin User Role ë³€ê²½**
   - `UPDATE users SET role = 'super_admin' WHERE id = 'f605cd18-179b-4c54-bf66-0289d47d3fbf'`

9. **ë¡œì»¬ í…ŒìŠ¤íŠ¸**
   - ë¡œê·¸ì¸ í…ŒìŠ¤íŠ¸
   - /superadmin/dashboard ì ‘ê·¼ í…ŒìŠ¤íŠ¸
   - Organizations CRUD í…ŒìŠ¤íŠ¸

10. **ì¶”ê°€ ê¸°ëŠ¥ êµ¬í˜„ (ì„ íƒ)**
    - Users ê´€ë¦¬ í˜ì´ì§€
    - Audit Logs í˜ì´ì§€
    - Organizations ìƒì„±/ìˆ˜ì • í¼
    - ì°¨íŠ¸ ì‹œê°í™” (recharts)

---

